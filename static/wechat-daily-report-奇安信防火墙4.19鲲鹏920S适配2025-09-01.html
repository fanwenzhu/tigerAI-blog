<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>奇安信防火墙4.19鲲鹏920S适配 群聊日报 - 2025-08-31</title>
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-100-M/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoVBL5rLesXWW/sGuLhYFChxgYnz2Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --bg-primary: #f5f4ee;
            --bg-secondary: #faf9f6;
            --bg-tertiary: #f1f3f5;
            --text-primary: #212529;
            --text-secondary: #495057;
            --accent-primary: #ff8906;
            --accent-secondary: #f76707;
            --accent-tertiary: #e8590c;
            --accent-blue: #339af0;
            --accent-purple: #7048e8;
            --accent-cyan: #22b8cf;
            --highlight-keyword-bg: #ffe8cc;
            --highlight-name-color: #7048e8;
            --card-padding: 24px;
            --grid-gap: 16px;
            --card-radius: 12px;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            --font-family: 'Inter', 'SF Pro Display', 'Segoe UI', sans-serif;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: var(--font-family);
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 16px;
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        body.modal-active {
            overflow: hidden;
        }
        h1, h2, h3, h4 {
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--accent-primary);
        }
        h2 {
            font-size: 1.75rem;
            margin-bottom: 1rem;
            color: var(--accent-primary);
        }
        h3 {
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
            color: var(--accent-blue);
        }
        .subtitle {
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            grid-auto-rows: minmax(100px, auto);
            gap: var(--grid-gap);
            margin-top: 20px;
            grid-template-areas:
                "main      main      main      main      main      main      main      main      main      main      main      main"
                "topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics    topics"
                "mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap   mindmap"
                "quote     quote     quote     quote     quote     quote     links     links     links     links     links     links"
                "stats     stats     stats     stats     stats     stats     stats     wordcloud wordcloud wordcloud wordcloud wordcloud";
        }
        .card {
            background-color: var(--bg-secondary);
            border-radius: var(--card-radius);
            padding: var(--card-padding);
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent-primary);
        }
        .card-icon {
            position: absolute;
            bottom: var(--card-padding);
            right: var(--card-padding);
            font-size: 4rem;
            opacity: 0.07;
            color: var(--accent-primary);
            z-index: 0;
        }
        .main-card { grid-area: main; }
        .topic-cards-wrapper {
            grid-area: topics;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: var(--grid-gap);
        }
        .mindmap-card-container { grid-area: mindmap; }
        .quote-card { grid-area: quote; }
        .links-card { grid-area: links; }
        .stats-card { grid-area: stats; }
        .wordcloud-card { grid-area: wordcloud; }
        .topic-card {
            grid-column: span 12;
            min-height: auto;
        }
        .main-card h1 { text-align: center; }
        .main-card .date { text-align: center; }
        .date { font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 0.5rem; }
        .meta-info { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 1rem; justify-content: center; }
        .meta-info span { background-color: var(--bg-tertiary); padding: 5px 10px; border-radius: 20px; font-size: 0.9rem; color: var(--accent-blue); }
        .summary { margin-top: 1rem; line-height: 1.7; text-align: left; }
        .link-item { display: flex; align-items: center; margin-bottom: 10px; padding: 8px; border-radius: 6px; background-color: var(--bg-tertiary); transition: background-color 0.2s ease; text-decoration: none; }
        .link-item:hover { background-color: rgba(51, 154, 240, 0.1); }
        .link-item a { text-decoration: none; color: inherit; display: flex; align-items: center; width: 100%; }
        .user-stats-table { width: 100%; border-collapse: collapse; margin-top: 0.5rem; }
        .user-stats-table th { text-align: center; padding: 0.75rem 0.5rem; border-bottom: 2px solid var(--accent-primary); color: var(--text-primary); font-weight: 600; font-size: 0.9rem; }
        .user-stats-table td { padding: 0.75rem 0.5rem; border-bottom: 1px solid var(--bg-tertiary); color: var(--text-secondary); font-size: 0.85rem; vertical-align: top; text-align: center; }
        .wordcloud { display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 10px; padding: 20px 0; min-height: 150px;}
        .footer { margin-top: 30px; text-align: center; color: var(--text-secondary); font-size: 0.9rem; }
        .brand-footer {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: var(--bg-secondary);
            border-radius: var(--card-radius);
            text-align: center;
            font-size: 0.85rem;
            line-height: 1.8;
            box-shadow: var(--card-shadow);
        }
        .brand-footer h4 {
            color: var(--accent-primary);
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
        }
        .copyright {
            margin-top: 1.5rem;
            font-size: 0.8rem;
        }
        .mindmap-card { min-height: 400px; }
        .mermaid-container { flex-grow: 1; display: flex; justify-content: center; align-items: center; overflow: auto; background-color: #fff; border-radius: 8px; padding: 10px; border: 1px solid var(--bg-tertiary); min-height: 300px; }
        .mermaid-container:empty::before { content: "未找到聊天记录，无法生成关系图。"; color: var(--text-secondary); font-style: italic; text-align: center; padding: 20px; }
        .action-buttons-container { text-align: center; margin: 20px 0; }
        .action-button { background-color: var(--accent-primary); color: white; border: none; padding: 10px 20px; border-radius: var(--card-radius); font-size: 1rem; font-weight: 500; cursor: pointer; transition: background-color 0.3s ease, transform 0.2s ease; margin: 5px 10px; box-shadow: var(--card-shadow); display: inline-flex; align-items: center; justify-content: center; }
        .action-button:hover { background-color: var(--accent-secondary); transform: translateY(-2px); }
        .action-button i { margin-right: 8px; }
        #feedback-message { text-align: center; margin-top: 10px; font-weight: 500; }
        #feedback-message.success { color: green; }
        #feedback-message.error { color: red; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .card, .footer, .brand-footer { animation: fadeIn 0.5s ease forwards; }
        @media (max-width: 768px) {
            body { padding: 10px; font-size: 14px; }
            h1 { font-size: 1.8rem; }
            .grid-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "main"
                    "topics"
                    "mindmap"
                    "quote"
                    "links"
                    "stats"
                    "wordcloud";
            }
        }
    </style>
</head>
<body>

<div id="report-content-wrapper">
    <div class="grid-container">
        <div class="card main-card">
            <h1>奇安信防火墙4.19鲲鹏920S适配 日报</h1>
            <div class="date">2025-08-31</div>
            <div class="subtitle">由 老虎聊AI 制作</div>
            <div class="meta-info">
                <span><i class="fas fa-comment"></i> 消息数: 0</span>
                <span><i class="fas fa-users"></i> 活跃用户: 0</span>
                <span><i class="fas fa-fire"></i> 热点话题: 0</span>
            </div>
            <p class="summary">
                在指定日期内（2025-08-31），未找到来自群聊 “奇安信防火墙4.19鲲鹏920S适配” 的任何聊天记录。因此，无法生成当日的详细分析报告。
            </p>
            <i class="fas fa-folder-open card-icon"></i>
        </div>

        <div class="topic-cards-wrapper">
            <div class="card topic-card">
                <h2><i class="fas fa-lightbulb"></i> 今日热点</h2>
                <p>今日无明确的热点话题进行讨论。</p>
                <i class="fas fa-comments card-icon"></i>
            </div>
        </div>

        <div class="mindmap-card-container card">
            <div class="mindmap-card">
                <h2><i class="fas fa-sitemap"></i> 核心概念关系图</h2>
                <div class="mermaid-container" id="mainMermaidContainer">
                    <div class="mermaid" id="mindmapDiagram">
                        mindmap
                          root((无数据))
                            (未找到聊天记录，无法生成关系图)
                    </div>
                </div>
                <i class="fas fa-project-diagram card-icon"></i>
            </div>
        </div>

        <div class="card quote-card">
            <h2><i class="fas fa-quote-left"></i> 精彩引用</h2>
            <p>未发现可引用的精彩发言。</p>
            <i class="fas fa-comment-dots card-icon"></i>
        </div>

        <div class="card links-card">
            <h2><i class="fas fa-link"></i> 重要链接与资源</h2>
            <p>今日无重要链接或资源分享。</p>
            <i class="fas fa-share-alt card-icon"></i>
        </div>

        <div class="card stats-card">
            <h2><i class="fas fa-chart-line"></i> 活跃之星</h2>
            <table class="user-stats-table">
                <thead>
                    <tr>
                        <th>用户</th>
                        <th>发言数</th>
                        <th>主要贡献</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="3">无活跃用户发言记录。</td>
                    </tr>
                </tbody>
            </table>
            <i class="fas fa-user-friends card-icon"></i>
        </div>

        <div class="card wordcloud-card">
            <h2><i class="fas fa-cloud"></i> 词云</h2>
            <div class="wordcloud">
                <p>无高频词汇可供分析。</p>
            </div>
            <i class="fas fa-tags card-icon"></i>
        </div>
    </div>

    <div class="footer">
        <p>数据来源：奇安信防火墙4.19鲲鹏920S适配 聊天记录 | 生成日期：2025-08-31 | 统计周期：2025-08-31 全天</p>
    </div>

    <div class="brand-footer">
        <h4>作者：老虎聊AI</h4>
        <p>微信：go_home_with_you | 公众号：老虎聊AI</p>
        <p>专业领域：AI智能体与自动化解决方案</p>
        <p>技术支持：基于 n8n + ChatlogMCP + AI 构建</p>
        <div class="copyright">
            © 2025 老虎聊AI | 智能群聊分析工具<br>
            本报告由AI自动生成，仅供参考
        </div>
    </div>
</div>

<div class="action-buttons-container">
    <button id="screenshotToClipboardBtn" class="action-button"><i class="fas fa-clipboard"></i> 拷贝截图</button>
    <button id="downloadHtmlBtn" class="action-button"><i class="fas fa-download"></i> 下载报告</button>
</div>
<div id="feedback-message"></div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        mermaid.initialize({ startOnLoad: true, theme: 'base', fontFamily: '"Inter", sans-serif' });

        function showFeedback(message, type = 'info', duration = 3000) {
            const feedbackElement = document.getElementById('feedback-message');
            if (feedbackElement) {
                feedbackElement.textContent = message;
                feedbackElement.className = type;
                setTimeout(() => {
                    feedbackElement.textContent = '';
                    feedbackElement.className = '';
                }, duration);
            }
        }
        
        const screenshotToClipboardBtn = document.getElementById('screenshotToClipboardBtn');
        if(screenshotToClipboardBtn) {
            screenshotToClipboardBtn.addEventListener('click', async function() {
                const reportContent = document.getElementById('report-content-wrapper');
                if (!reportContent) {
                    showFeedback('截图错误: 未找到报告内容。', 'error');
                    return;
                }
                const originalButtonText = this.innerHTML;
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 处理中...';
                this.disabled = true;

                try {
                    const canvas = await html2canvas(reportContent, {
                        useCORS: true,
                        scale: window.devicePixelRatio || 2,
                        backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--bg-primary').trim() || '#f5f4ee',
                    });
                    canvas.toBlob(async function(blob) {
                        if (blob && navigator.clipboard && navigator.clipboard.write) {
                            try {
                                await navigator.clipboard.write([new ClipboardItem({ 'image/png': blob })]);
                                showFeedback('截图已拷贝到剪贴板!', 'success');
                            } catch (copyError) {
                                console.error('拷贝到剪贴板失败:', copyError);
                                showFeedback('拷贝截图失败，请尝试下载。', 'error', 5000);
                            }
                        } else {
                            showFeedback('浏览器不支持直接拷贝图片，请尝试下载截图。', 'error', 5000);
                        }
                    }, 'image/png');
                } catch (error) {
                    console.error('截图捕获失败:', error);
                    showFeedback('截图捕获失败: ' + error.message, 'error');
                } finally {
                    this.innerHTML = originalButtonText;
                    this.disabled = false;
                }
            });
        }
        
        const downloadHtmlBtn = document.getElementById('downloadHtmlBtn');
        if(downloadHtmlBtn) {
            downloadHtmlBtn.addEventListener('click', function() {
                try {
                    const htmlContent = document.documentElement.outerHTML;
                    const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    link.download = '群聊日报-奇安信防火墙适配-2025-08-31.html';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(link.href);
                    showFeedback('HTML报告已下载!', 'success');
                } catch (error) {
                    console.error('下载HTML失败:', error);
                    showFeedback('下载HTML失败: ' + error.message, 'error');
                }
            });
        }
    });
</script>

</body>
</html>